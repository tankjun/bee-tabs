
import { Con, Row, Col } from 'bee-layout';
import { Panel } from 'bee-panel';
import React, { Component } from 'react';
import ReactDOM from 'react-dom';
import Button from 'bee-button';

import Tabs, { TabPane } from '../src';
import TabContent from '../src/TabContent';
import ScrollableInkTabBar from '../src/ScrollableInkTabBar';

const CARET = <i className="uf uf-chevronarrowdown"></i>;

const CARETUP = <i className="uf uf-chevronarrowup"></i>;


var Demo1 = require("./demolist/Demo1");var Demo10 = require("./demolist/Demo10");var Demo11 = require("./demolist/Demo11");var Demo12 = require("./demolist/Demo12");var Demo13 = require("./demolist/Demo13");var Demo2 = require("./demolist/Demo2");var Demo3 = require("./demolist/Demo3");var Demo4 = require("./demolist/Demo4");var Demo5 = require("./demolist/Demo5");var Demo6 = require("./demolist/Demo6");var Demo7 = require("./demolist/Demo7");var Demo8 = require("./demolist/Demo8");var Demo9 = require("./demolist/Demo9");var DemoArray = [{"example":<Demo1 />,"title":" 基础tab1","code":"/**\n *\n * @title 基础tab1\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\n\nvar callback = function(key){\n    console.log(key)\n}\n\n\nclass Demo1 extends Component {\n    constructor(props) {\n        super(props)\n    }\n    render() {\n\n        return (\n            <Tabs\n                defaultActiveKey=\"2\"\n                onChange={callback}\n                tabBarStyle=\"simple\"\n                >\n                <TabPane tab='tab 1' key=\"1\">1</TabPane>\n                <TabPane tab='tab 2' key=\"2\">2</TabPane>\n                <TabPane tab='tab 3' key=\"3\">3</TabPane>\n                <TabPane tab='tab 4' key=\"4\">4</TabPane>\n            </Tabs>\n        )\n    }\n}\n\n\n","desc":""},{"example":<Demo10 />,"title":" 基础tab10","code":"/**\n *\n * @title 基础tab10\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\nimport TabContent from 'bee-tabs';\nimport ScrollableInkTabBar from 'bee-tabs';\nimport InkTabBar from 'bee-tabs';\n\nclass PanelContent extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log(this.props.id, 'constructor');\n    }\n\n    componentWillReceiveProps(nextProps) {\n        console.log(nextProps.id, 'componentWillReceiveProps');\n    }\n\n    render() {\n        const length = Math.round(10 * (Math.random()) + 4);\n        const count = new Array(length);// new Array(4) skip forEach ....\n        for (let i = 0; i < length; i++) {\n            count[i] = 1;\n        }\n        const content = new Array(Math.round(100 * (Math.random())) + 4).join(` ${this.props.id}`);\n        const els = count.map((c, i) => {\n            return <p key={i}>{content}</p>;\n        });\n        return <div>{els}</div>;\n    }\n}\n\nfunction construct(start, num) {\n    const ends = [];\n    let index = 1;\n    for (let i = start; i < start + num; i++) {\n        ends.push(<TabPane\n            placeholder={`loading ${i}`}\n            tab={`tab ${i}`}\n            disabled={!!(i % 2)}\n            key={index}\n        >\n            <PanelContent id={i} />\n        </TabPane>);\n        index++;\n    }\n    return ends;\n}\n\nclass Demo10 extends React.Component {\n    state = {\n        tabBarPosition: 'top',\n        activeKey: '3',\n        start: 0,\n    };\n\n    onChange = (key) => {\n        console.log(`onChange ${key}`);\n    }\n\n    onChange2 = (activeKey) => {\n        this.setState({ activeKey });\n    }\n\n    onTabClick = (key) => {\n        console.log(`onTabClick ${key}`);\n    }\n\n    tick = () => {\n        this.setState({\n            start: this.state.start + 10,\n        });\n    }\n\n    changeTabPosition = (e) => {\n        this.setState({\n            tabBarPosition: e.target.value,\n        });\n    }\n\n    scrollToActive = () => {\n        this.bar.scrollToActiveTab();\n    }\n\n    switchToLast = (ends) => {\n        if (this.state.activeKey !== ends[ends.length - 1].key) {\n            this.setState({ activeKey: ends[ends.length - 1].key }, this.scrollToActive);\n        } else {\n            this.scrollToActive();\n        }\n    }\n\n    saveBar = (bar) => {\n        this.bar = bar;\n    }\n\n    render() {\n        const start = this.state.start;\n        const ends = construct(start, 9);\n        const ends2 = construct(start, 3);\n        const tabBarPosition = this.state.tabBarPosition;\n        let style;\n        let contentStyle;\n        contentStyle = {\n            height: 400,\n        };\n        if (tabBarPosition === 'left' || tabBarPosition === 'right') {\n            style = contentStyle;\n        } else {\n            style = {\n                width: 500,\n            };\n        }\n\n        return (\n            <div style={{ margin: 20 }}>\n                <h2>Simple Tabs</h2>\n                <p>\n                    tabBarPosition:\n          <select value={this.state.tabBarPosition} onChange={this.changeTabPosition}>\n                        <option value=\"top\">top</option>\n                        <option value=\"bottom\">bottom</option>\n                        <option value=\"left\">left</option>\n                        <option value=\"right\">right</option>\n                    </select>\n                </p>\n                <div>\n                    <Tabs\n                        defaultActiveKey=\"3\"\n                        style={style}\n                        tabBarPosition={this.state.tabBarPosition}\n                        renderTabBar={() => <InkTabBar onTabClick={this.onTabClick} />}\n                        renderTabContent={() => <TabContent style={contentStyle} />}\n                        onChange={this.onChange}\n                    >\n                        {ends2}\n                    </Tabs>\n                </div>\n                <h2>Scroll Tabs</h2>\n                <div>\n                    <button onClick={() => this.switchToLast(ends)}>\n                        switch to last tab\n          </button>\n                    <Tabs\n                        activeKey={this.state.activeKey}\n                        style={style}\n                        tabBarPosition={this.state.tabBarPosition}\n                        renderTabBar={() => <ScrollableInkTabBar\n                            ref={this.saveBar}\n                            onTabClick={this.onTabClick}\n                        />}\n                        renderTabContent={() => <TabContent style={contentStyle} />}\n                        onChange={this.onChange2}\n                    >\n                        {ends}\n                    </Tabs>\n                </div>\n                <button onClick={this.tick}>rerender</button>\n            </div>\n        );\n    }\n}\n\n","desc":""},{"example":<Demo11 />,"title":" 基础tab11","code":"/**\n *\n * @title 基础tab11\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\nimport TabContent from 'bee-tabs';\nimport ScrollableInkTabBar from 'bee-tabs';\nimport InkTabBar from 'bee-tabs';\nimport createClass from 'create-react-class';\n\nclass PanelContent extends Component {\n    constructor(props) {\n        super(props);\n        console.log(this.props.id, 'constructor');\n    }\n\n    componentWillReceiveProps() {\n        console.log(this.props.id, 'componentWillReceiveProps');\n    }\n\n    render() {\n        const count = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1];// new Array(4) skip forEach ....\n        const els = count.map((c, i) => {\n            return (<p key={i}>\n                <button>{this.props.id}</button>\n            </p>);\n        });\n        return <div style={{ height: 200, overflow: 'auto' }}>{els}</div>;\n    }\n}\n\nconst defaultTabKey = '2';\n\nconst Demo11 = createClass({\n    getInitialState() {\n        return {\n            start: 0,\n            tabKey: defaultTabKey,\n        };\n    },\n\n    onChange(key) {\n        console.log(`onChange ${key}`);\n    },\n\n    onTabClick(key) {\n        console.log(`onTabClick ${key}`);\n        this.setState({\n            tabKey: key,\n        });\n    },\n\n    tick() {\n        this.setState({\n            start: this.state.start + 10,\n        });\n    },\n\n    render() {\n        const start = this.state.start;\n        return (\n            <div>\n                <h1>Simple Tabs</h1>\n                <p>current: {this.state.tabKey}</p>\n                <Tabs\n                    defaultActiveKey={defaultTabKey}\n                    renderTabBar={() => <ScrollableInkTabBar onTabClick={this.onTabClick} />}\n                    renderTabContent={() => <TabContent />}\n                    onChange={this.onChange}\n                >\n                    <TabPane tab={`tab ${start}`} key=\"1\">\n                        <PanelContent id={start} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 1}`} key=\"2\">\n                        <PanelContent id={start + 1} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 2}`} key=\"3\">\n                        <PanelContent id={start + 2} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 3}`} key=\"4\">\n                        <PanelContent id={start + 3} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 4}`} key=\"5\">\n                        <PanelContent id={start + 4} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 5}`} key=\"6\">\n                        <PanelContent id={start + 5} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 6}`} key=\"7\">\n                        <PanelContent id={start + 6} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 8}`} key=\"8\">\n                        <PanelContent id={start + 8} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 9}`} key=\"9\">\n                        <PanelContent id={start + 9} />\n                    </TabPane>\n                </Tabs>\n                <button onClick={this.tick}>rerender</button>\n            </div>\n        );\n    },\n});\n\n","desc":""},{"example":<Demo12 />,"title":" 基础tab12","code":"/**\n *\n * @title 基础tab12\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Tabs, { TabPane } from 'bee-tabs';\nimport TabContent from 'bee-tabs';\nimport ScrollableInkTabBar from 'bee-tabs';\nimport { Router, Route, IndexRoute, hashHistory } from 'react-router';\n\nconst Tab1 = () => <div>tab1</div>;\nconst Tab2 = () => <div>tab2</div>;\n\nclass App extends React.Component {\n    componentWillMount() {\n        this.data = [{\n            key: 'tab1',\n            component: <Tab1 />,\n        }, {\n            key: 'tab2',\n            component: <Tab2 />,\n        }];\n    }\n    onChange = (key) => {\n        // for demo, better use router api\n        window.location.hash = key;\n    }\n    render() {\n        let activeKey = 'tab1';\n        const { children } = this.props;\n        if (children) {\n            this.data.forEach((d) => {\n                if (d.component.type === children.type) {\n                    // for demo, better immutable\n                    d.component = children;\n                    activeKey = d.key;\n                }\n            });\n        }\n        const tabs = this.data.map(d => <TabPane key={d.key} tab={d.key}>{d.component}</TabPane>);\n        return (\n            <Tabs\n                activeKey={activeKey}\n                onChange={this.onChange}\n                renderTabBar={() => <ScrollableInkTabBar />}\n                renderTabContent={() => <TabContent />}\n            >\n                {tabs}\n            </Tabs>\n        );\n    }\n}\nclass demo12 extends React.Component {\n    render() {\n        return (\n            <Router history={hashHistory}>\n                <Route path=\"/\" component={App}>\n                    <IndexRoute component={Tab1} />\n                    <Route path=\"tab1\" component={Tab1} />\n                    <Route path=\"tab2\" component={Tab2} />\n                </Route>\n            </Router>\n        )\n    }\n}\n\n/*ReactDOM.render(\n    <Router history={hashHistory}>\n        <Route path=\"/\" component={App}>\n            <IndexRoute component={Tab1} />\n            <Route path=\"tab1\" component={Tab1} />\n            <Route path=\"tab2\" component={Tab2} />\n        </Route>\n    </Router>\n    , document.getElementById(''));*/","desc":""},{"example":<Demo13 />,"title":" 基础tab13","code":"/**\n *\n * @title 基础tab13\n * @description\n *\n */\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Tabs, { TabPane } from 'bee-tabs';\nimport TabContent from 'bee-tabs';\nimport ScrollableInkTabBar from 'bee-tabs';\nimport SwipeableInkTabBar from 'bee-tabs';\n\nif (process.env.DEMO_ENV === 'preact') {\n    require('preact/devtools');\n}\n\nconst contentStyle = {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100px',\n    backgroundColor: '#fff',\n};\n\nconst tabTitle = (key) => (<div data-extra=\"tab-bar-title\">{`选项${key}`}</div>);\nconst makeTabPane = key => (\n    <TabPane tab={tabTitle(key)} data-extra=\"tabpane\" key={`${key}`}>\n        <div style={contentStyle}>\n            {`选项${key}内容`}\n        </div>\n    </TabPane>\n);\n\nconst makeMultiTabPane = (count) => {\n    const result = [];\n    for (let i = 0; i < count; i++) {\n        result.push(makeTabPane(i));\n    }\n    return result;\n};\n\nconst Demo13 = () => (\n    <div>\n        <h4>pageSize = 5, speed = 5</h4>\n        <div>\n            <Tabs\n                data-extra=\"tabs\"\n                renderTabBar={() =>\n                    <SwipeableInkTabBar\n                        pageSize={5}\n                        speed={5}\n                        data-extra=\"tabbar\"\n                    />\n                }\n                renderTabContent={() => <TabContent />}\n                defaultActiveKey=\"8\"\n            >\n                {makeMultiTabPane(11)}\n            </Tabs>\n        </div>\n        <h4>pageSize = 3, speed = 10</h4>\n        <div>\n            <Tabs\n                renderTabBar={() =>\n                    <SwipeableInkTabBar\n                        pageSize={3}\n                        speed={10}\n                    />\n                }\n                renderTabContent={() => <TabContent />}\n                defaultActiveKey=\"2\"\n            >\n                {makeMultiTabPane(7)}\n            </Tabs>\n        </div>\n        <h4>pageSize = 3, speed = 10, tabBarPosition='bottom'</h4>\n        <div>\n            <Tabs\n                tabBarPosition=\"bottom\"\n                renderTabBar={() =>\n                    <SwipeableInkTabBar\n                        pageSize={3}\n                        speed={10}\n                    />\n                }\n                renderTabContent={() => <TabContent />}\n                defaultActiveKey=\"2\"\n            >\n                {makeMultiTabPane(7)}\n            </Tabs>\n        </div>\n        <h4>tabBarPosition='left'</h4>\n        <div>\n            <Tabs\n                tabBarPosition=\"left\"\n                renderTabBar={() =>\n                    <SwipeableInkTabBar\n                        pageSize={3}\n                    />\n                }\n                renderTabContent={() => <TabContent />}\n                defaultActiveKey=\"2\"\n            >\n                {makeMultiTabPane(11)}\n            </Tabs>\n        </div>\n        <h4>tabBarPosition='right'</h4>\n        <div>\n            <Tabs\n                tabBarPosition=\"right\"\n                renderTabBar={() =>\n                    <SwipeableInkTabBar\n                        pageSize={3}\n                    />\n                }\n                renderTabContent={() => <TabContent />}\n                defaultActiveKey=\"2\"\n            >\n                {makeMultiTabPane(11)}\n            </Tabs>\n        </div>\n        <h4>custom inkBar style</h4>\n        <div>\n            <Tabs\n                renderTabBar={() =>\n                    <SwipeableInkTabBar\n                        pageSize={5}\n                        speed={5}\n                        styles={{\n                            inkBar: {\n                                width: '20px',\n                                backgroundColor: 'red',\n                            },\n                        }}\n                    />\n                }\n                renderTabContent={() => <TabContent />}\n                defaultActiveKey=\"8\"\n            >\n                {makeMultiTabPane(11)}\n            </Tabs>\n        </div>\n        <h4>custom inkBar style, tabBarPosition='left'</h4>\n        <div>\n            <Tabs\n                tabBarPosition=\"left\"\n                renderTabBar={() =>\n                    <SwipeableInkTabBar\n                        pageSize={3}\n                        styles={{\n                            inkBar: {\n                                backgroundColor: 'red',\n                                height: '20px',\n                            },\n                        }}\n                    />\n                }\n                renderTabContent={() => <TabContent />}\n                defaultActiveKey=\"2\"\n            >\n                {makeMultiTabPane(11)}\n            </Tabs>\n        </div>\n    </div>\n);\n","desc":""},{"example":<Demo2 />,"title":" 基础tab2","code":"/**\n *\n * @title 基础tab2\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\n\nvar callback = function(key){\n\n}\n\n\nclass Demo2 extends Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n\n        return (\n            <Tabs\n                defaultActiveKey=\"2\"\n                onChange={callback}\n                tabBarStyle=\"fill\"\n                >\n                <TabPane tab='tab 1' key=\"1\">1</TabPane>\n                <TabPane tab='tab 2' key=\"2\">2</TabPane>\n                <TabPane tab='tab 3' key=\"3\">3</TabPane>\n                <TabPane tab='tab 4' key=\"4\">4</TabPane>\n            </Tabs>\n        )\n    }\n}\n\n","desc":""},{"example":<Demo3 />,"title":" 基础tab3","code":"/**\n *\n * @title 基础tab3\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\n\nvar callback = function(key){\n\n}\n\n\nclass Demo3 extends Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n\n        return (\n            <Tabs\n                defaultActiveKey=\"2\"\n                onChange={callback}\n                tabBarStyle=\"primary\"\n                >\n                <TabPane tab='tab 1' key=\"1\">1</TabPane>\n                <TabPane tab='tab 2' key=\"2\">2</TabPane>\n                <TabPane tab='tab 3' key=\"3\">3</TabPane>\n                <TabPane tab='tab 4' key=\"4\">4</TabPane>\n            </Tabs>\n        )\n    }\n}\n\n","desc":""},{"example":<Demo4 />,"title":" 基础tab4","code":"/**\n *\n * @title 基础tab4\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\n\nvar callback = function(key){\n\n}\n\n\nclass Demo4 extends Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n\n        return (\n            <Tabs\n                defaultActiveKey=\"2\"\n                onChange={callback}\n                tabBarStyle=\"upborder\"\n                >\n                <TabPane tab='tab 1' key=\"1\">1</TabPane>\n                <TabPane tab='tab 2' key=\"2\">2</TabPane>\n                <TabPane tab='tab 3' key=\"3\">3</TabPane>\n                <TabPane tab='tab 4' key=\"4\">4</TabPane>\n            </Tabs>\n        )\n    }\n}\n\n","desc":""},{"example":<Demo5 />,"title":" 基础tab5","code":"/**\n *\n * @title 基础tab5\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\n\nvar callback = function(key){\n\n}\n\n\nclass Demo5 extends Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n\n        return (\n            <Tabs\n                defaultActiveKey=\"2\"\n                onChange={callback}\n                tabBarStyle=\"fade\"\n                >\n                <TabPane tab='tab 1' key=\"1\">1</TabPane>\n                <TabPane tab='tab 2' key=\"2\">2</TabPane>\n                <TabPane tab='tab 3' key=\"3\">3</TabPane>\n                <TabPane tab='tab 4' key=\"4\">4</TabPane>\n            </Tabs>\n        )\n    }\n}\n\n","desc":""},{"example":<Demo6 />,"title":" 基础tab6","code":"/**\n *\n * @title 基础tab6\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\n\nvar callback = function(key){\n\n}\n\n\nclass Demo6 extends Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n\n        return (\n            <Tabs\n                defaultActiveKey=\"2\"\n                onChange={callback}\n                tabBarStyle=\"downborder\"\n                >\n                <TabPane tab='tab 1' key=\"1\">1</TabPane>\n                <TabPane tab='tab 2' key=\"2\">2</TabPane>\n                <TabPane tab='tab 3' key=\"3\">3</TabPane>\n                <TabPane tab='tab 4' key=\"4\">4</TabPane>\n            </Tabs>\n        )\n    }\n}\n\n","desc":""},{"example":<Demo7 />,"title":" 基础tab7","code":"/**\n *\n * @title 基础tab7\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\n\nvar callback = function(key){\n\n}\n\n\nclass Demo7 extends Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n\n        return (\n            <Tabs\n                defaultActiveKey=\"2\"\n                onChange={callback}\n                tabBarStyle=\"trapezoid\"\n                >\n                <TabPane tab='tab 1' key=\"1\">1</TabPane>\n                <TabPane tab='tab 2' key=\"2\">2</TabPane>\n                <TabPane tab='tab 3' key=\"3\">3</TabPane>\n                <TabPane tab='tab 4' key=\"4\">4</TabPane>\n            </Tabs>\n        )\n    }\n}\n\n","desc":""},{"example":<Demo8 />,"title":" 基础tab8","code":"/**\n *\n * @title 基础tab8\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\nimport TabContent from 'bee-tabs';\nimport ScrollableInkTabBar from 'bee-tabs';\n\nconst PanelContent = ({ id }) => (\n    <div>{[1, 2, 3, 4].map(item => <p key={item}>{id}</p>)}</div>\n);\nclass Demo8 extends Component {\n    constructor(props) {\n        super(props);\n        this.state = ({\n            activeKey: '',\n            start: 0,\n        })\n    }\n    onChange = (activeKey) => {\n        console.log(`onChange ${activeKey}o-^-o`);\n        this.setState({\n            activeKey,\n        });\n    }\n\n    onTabClick = (key) => {\n        console.log(`onTabClick ${key}o^o`);\n        if (key === this.state.activeKey) {\n            this.setState({\n                activeKey: '',\n            });\n        }\n    }\n\n    tick = () => {\n        this.setState({\n            start: this.state.start + 10,\n        });\n    }\n\n    render() {\n        const start = this.state.start;\n        return (\n            <div style={{ margin: 20 }}>\n                <h1>Simple Tabs</h1>\n                <Tabs\n                    renderTabBar={() => <ScrollableInkTabBar onTabClick={this.onTabClick} />}\n                    renderTabContent={() => <TabContent animatedWithMargin />}\n                    activeKey={this.state.activeKey}\n                    onChange={this.onChange}\n                >\n                    <TabPane tab={`tab ${start}`} key=\"1\" >\n                        <PanelContent id={start} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 1}`} key=\"2\">\n                        <PanelContent id={start + 1} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 2}`} key=\"3\">\n                        <PanelContent id={start + 2} />\n                    </TabPane>\n                    <TabPane tab={`tab ${start + 3}`} key=\"4\" disabled>\n                        <PanelContent id={start + 3} />\n                    </TabPane>\n                </Tabs>\n                <button onClick={this.tick}>add</button>\n            </div>\n        )\n    }\n}\n\n","desc":""},{"example":<Demo9 />,"title":" 基础tab9","code":"/**\n *\n * @title 基础tab9\n * @description\n *\n */\n\nimport React, { Component } from 'react';\nimport Tabs, { TabPane } from 'bee-tabs';\nimport TabContent from 'bee-tabs';\nimport ScrollableInkTabBar from 'bee-tabs';\nlet index = 1;\nclass Demo9 extends Component {\n    state = {\n        tabs: [{\n            title: '初始',\n            content: '初始内容',\n        }],\n        activeKey: '初始',\n    };\n\n    onTabChange = (activeKey) => {\n        this.setState({\n            activeKey,\n        });\n    }\n    construct() {\n        const disabled = true;\n        return this.state.tabs.map((t) => {\n            return (<TabPane\n                tab={<span>{t.title}\n                    <a\n                        style={{\n                            position: 'absolute',\n                            cursor: 'pointer',\n                            color: 'red',\n                            right: 5,\n                            top: 0,\n                        }}\n                        onClick={this.remove.bind(this, t.title)}\n                    >x</a>\n                </span>}\n                key={t.title}\n            >\n                <div style={{ padding: 100 }}>\n                    {t.content}\n                </div>\n            </TabPane>);\n        }).concat([\n            <TabPane\n                tab={<a style={{ color: 'black', cursor: 'pointer' }} onClick={this.add}> + 添加</a>}\n                disabled={disabled}\n                key={'__add'}\n            />,\n        ]);\n    }\n    // 删除\n    remove = (title, e) => {\n        e.stopPropagation();\n        if (this.state.tabs.length === 1) {\n            alert('只剩一个，不能删');\n            return;\n        }\n        let foundIndex = 0;\n        const after = this.state.tabs.filter((t, i) => {\n            if (t.title !== title) {\n                return true;\n            }\n            foundIndex = i;\n            return false;\n        });\n        let activeKey = this.state.activeKey;\n        if (activeKey === title) {\n            if (foundIndex) {\n                foundIndex--;\n            }\n            activeKey = after[foundIndex].title;\n        }\n        this.setState({\n            tabs: after,\n            activeKey,\n        });\n    }\n    // 增加\n    add = (e) => {\n        e.stopPropagation();\n        index++;\n        const newTab = {\n            title: `名称: ${index}`,\n            content: `内容: ${index}`,\n        };\n        this.setState({\n            tabs: this.state.tabs.concat(newTab),\n            activeKey: `名称: ${index}`,\n        });\n    }\n\n    render() {\n        const tabStyle = {\n            width: 500,\n        };\n        return (\n            <div style={{ margin: 20 }}>\n                <h2>Addable Tabs</h2>\n                <div style={tabStyle}>\n                    <Tabs\n                        renderTabBar={() => (\n                            <ScrollableInkTabBar\n                                extraContent={\n                                    <button onClick={this.add}>+添加</button>\n                                }\n                            />\n                        )}\n                        renderTabContent={() => <TabContent />}\n                        activeKey={this.state.activeKey}\n                        onChange={this.onTabChange}\n                    >\n                        {this.construct()}\n                    </Tabs>\n                </div>\n            </div>\n        );\n    }\n}\n\n\n","desc":""}]


class Demo extends Component {
    constructor(props){
        super(props);
        this.state = {
            open: false
        }
        this.handleClick = this.handleClick.bind(this);
    }
    handleClick() {
        this.setState({ open: !this.state.open })
    }

    render () {
        const { title, example, code, desc  } = this.props;
        let caret = this.state.open ? CARETUP : CARET;
        let text = this.state.open ? "隐藏代码" : "查看代码";

        const footer = (
            <Button shape="block" onClick={ this.handleClick }>
                { caret }
                { text }
            </Button>
        );


        return (
            <Col md={12} >
                <h3>{ title }</h3>
                <p>{ desc }</p>
                <Panel collapsible expanded={ this.state.open } colors='bordered' header={ example } footer={footer} footerStyle = {{padding: 0}}>
                    <pre><code className="hljs javascript">{ code }</code></pre>
                </Panel>
            </Col>
        )
    }
}

class DemoGroup extends Component {
    constructor(props){
        super(props)
    }
    render () {
        return (
                <Row>
                    {DemoArray.map((child,index) => {

                        return (
                            <Demo example= {child.example} title= {child.title} code= {child.code} desc= {child.desc} key= {index}/>
                        )

                    })}
                </Row>
        )
    }
}

ReactDOM.render(<DemoGroup/>, document.getElementById('tinperBeeDemo'));
